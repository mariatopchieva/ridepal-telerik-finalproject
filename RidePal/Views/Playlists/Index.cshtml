@model FilteredPlaylistsViewModel

@{
    ViewData["Title"] = "The playlists created by all our users";
    Layout = "_Layout";
}

<h1>Playlists</h1>

@if (TempData["Msg"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["Msg"].ToString();
    </div>
}

<div class="col-md-4 justify-content-center" id="filterFormContainer">
    <form class="row-md-4 form-inline" asp-action="Index" id="filterForm">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group align-self-center">
            <label>Search playlists with genres:</label>
            <br />
            @for (int i = 0; i < Model.AllGenres.Count(); i++)
            {
                <label>@Model.AllGenres.ElementAt(i).Name </label>
                <input type="checkbox" id=Model.AllGenres[i].Id asp-for="FilterCriteria.GenresNames[i]" />
                <br />
            }
        </div>
        <div class="form-group float-md-left">
            <label class="mt-3" for="customRange3">Duration</label>
            <input id="rangeInput" type="range" min="0" max="@Model.MaxDuration" oninput="amount.value=rangeInput.value" asp-for="FilterCriteria.DurationLimits" />
            <input id="amount" type="number" value="@Model.MaxDuration" min="0" max="@Model.MaxDuration" oninput="rangeInput.value=amount.value" />
        </div>
        <br />
        <div class="form-group float-md-right">
            <label>Search playlists:</label>
            <input type="text" id="name" asp-for="FilterCriteria.Name"><br><br>
        </div>
        <div class="form-group">
            <input type="submit" value="Submit">
        </div>
    </form>
</div>




@*<div class="col-xs-6 m-auto">
    <input enabled type="range" min="0" max="@Model.MaxDuration" step="10" oninput="amount.value=rangeInput.value" onchange="updateTextInput(this.value);" class="form-control custom-range" id="inputMetalSlider" name="MetalPercentage">
    <span class="font-weight-bold text-white ml-2 mt-1" id="metalSpan"></span>
</div>*@




<ul class="pagination">
    <li class="page-item">
        <a class="page-link" asp-controller="Playlists" asp-action="Index" asp-route-currentPage="@(Model.CurrentPage-1)" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
        </a>
    </li>
    @for (var i = 1; i <= Model.TotalPages; i++)
    {
        <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
            <a asp-route-currentPage="@i" class="page-link">@i</a>
        </li>
    }
    <li class="page-item">
        <a class="page-link" asp-controller="Playlists" asp-action="Index" asp-route-currentPage="@(Model.CurrentPage+1)" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
        </a>
    </li>
</ul>

<div class="container-about">
    <div class="container">
        <div class="page-header" id="about">
            <h2 class="text-center text-danger">Our playlists</h2>
            <br />
        </div>
        <div class="row">
            @foreach (var playlist in Model.Playlists)
            {
                <partial name="_PlaylistPartial" model="playlist" />
            }
        </div>
    </div>
</div>